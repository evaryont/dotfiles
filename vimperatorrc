set guioptions-=rb

" AwesomeBar like completion (automatic, uses history & bookmarks as possible
" completer)
set wildoptions=auto
set complete=l
"set wildmode="list:longest"

" Clicking the url bar selects it entirely
set! browser.urlbar.clickSelectsAll=true
set! browser.urlbar.doubleClickSelectsAll=true
" set! network.image.imageBehavior: 2
" set! browser.blink_allowed=false
" set! security.dialog_enable_delay=0
" set! browser.tabs.closeWindowWithLastTab=true
"set! liberator.saved.browser.tabs.autoHide=true
"set! browser.tabs.autoHide=true
set showtabline=0

" Focus the window, not any inputs/etc
set focuscontent

" Add the RSS/Atom feed button to the address bar
javascript <<EOF
(function(){
    var feedPanel = document.createElement("statusbarpanel");
    feedPanel.setAttribute("id", "feed-panel-clone");
    feedPanel.appendChild(document.getElementById("feed-button"));
    feedPanel.firstChild.setAttribute("style", "padding: 0; max-height: 16px;");
    document.getElementById("status-bar")
            .insertBefore(feedPanel, document.getElementById("security-button"));
})();
EOF

" Yanking the selected text saves to the X selection buffer (e.g. Edit->Copy)
js <<EOF
mappings.addUserMap([modes.NORMAL], ["Y"], 
    "Yank the currently selected text",
    function () {
        buffer.getCurrentWord();
        events.feedkeys("<C-v>" + (/^Mac/.test(navigator.platform) ? "<M-c>" : "<C-c>"), true);
        setTimeout( function () {
          liberator.echo("Yanked " + util.readFromClipboard(), commandline.FORCE_SINGLELINE);
        }, 20 );
    });
EOF

" hi CmdLine <<EOF
" background-color: black;
" EOF

command! dominspector :js inspectDOMDocument(document)

map <silent> gs :stop<CR>
map <silent> ga :addons<CR>

"map <silent> gb :javascript "if(document.getSelection){s=document.getSelection();}else{s='';};document.location='http://pinboard.in/add?next=same&url='+encodeURIComponent(location.href)+'&description='+encodeURIComponent(s)+'&title='+encodeURIComponent(document.title)"

map <silent> <C-j> 25j
map <silent> <C-k> 25k

set mainecoon=ca
